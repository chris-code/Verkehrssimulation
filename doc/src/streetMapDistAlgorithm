V <- set of vehicles
for each vehicle in V:
	cell <- current cell of vehicle
	r <- current speed of vehicle
	new_r <- 0

	while r != 0:
		cell <- next cell vehicle would move to
		if cell not marked by this vehicle:
			r = 0
		else:
			r = r-1
			new_r = new_r+1
